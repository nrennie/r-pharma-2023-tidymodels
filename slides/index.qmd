---
title: "Machine learning with {tidymodels}"
subtitle: "R/Pharma 2023"
author: "Dr Nicola Rennie"
format: revealjs
bibliography: references.bib
---

# Welcome!

## What to expect during this workshop

~ 3 hours

* intro to ml
* intro to tidymodels 

* 6 exercises

## Housekeeping

* GitHub:
* Slides: 

## Data

```{r}
#| label: read-data
#| echo: false
#| eval: true
#| message: false
library(tidyverse)
library(tidymodels)
tidymodels_prefer()
heart_failure <- read_csv("data/heart_failure.csv") 
```
* Examples data: Heart Failure Clinical Records
[archive.ics.uci.edu/dataset/519/heart+failure+clinical+records](http://archive.ics.uci.edu/dataset/519/heart+failure+clinical+records)

* Exercises data: 

## What is machine learning?

## What is {tidymodels}?

::: columns
::: {.column}

* A collection of R packages for statistical modelling and machine learning.

* Follows the {tidyverse} principles.

* `install.packages("tidymodels")`

:::

::: {.column}

![](images/tidymodels.png){fig-align="center" fig-alt="tidymodels R package hex sticker logo" width=50%}

:::
:::


# Concepts in ML

* unsupervised / supervised

# Training and testing

```{r}
#| label: split-data
#| echo: false
#| eval: true
#| message: false
set.seed(20231018)
hf_split <- initial_split(heart_failure)
hf_train <- training(hf_split)
hf_test <- testing(hf_split)
```

## Exercise 1

add count down timer

* Load relevant packages

* Read in the ... data from GitHub

* Perform the initial split


# Supervised learning

## Logistic regression

## Logistic regression in R

```{r}
#| label: glm
#| echo: true
#| eval: true
#| message: false
mod1 <- glm(death~., family = "binomial", data = hf_train)
summary(mod1)
```

## Lasso logisitic regression

## workflows in tm

## Hyperparameter tuning

## Model evaluation


## Exercise 2

## Random forests

# Unsupervised learning

## k means

## hierarchical?

## other things we didn't do

## additional resources






