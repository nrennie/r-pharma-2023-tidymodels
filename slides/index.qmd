---
title: "Introduction to machine learning with {tidymodels}"
subtitle: "R/Pharma 2023"
author: "Dr Nicola Rennie"
format:
  LUstyle-revealjs:
    footer: "[nrennie.github.io/r-pharma-2023-tidymodels](https://nrennie.github.io/r-pharma-2023-tidymodels)"
bibliography: references.bib
---

# Welcome!

## What to expect during this workshop

The workshop will run for *2 hours*.

* We'll take a 10 minute break halfway through.

* Combines slides, live coding examples, and 4 exercises for you to participate in.

* Ask questions in the chat throughout!

## Workshop resources

* GitHub: [github.com/nrennie/r-pharma-2023-tidymodels](https://github.com/nrennie/r-pharma-2023-tidymodels)

* Slides: [nrennie.github.io/r-pharma-2023-tidymodels](https://nrennie.github.io/r-pharma-2023-tidymodels)

* Posit Cloud: []()

## Data

We'll use two data sets in this workshop:

* Examples data: Heart Failure Clinical Records
[archive.ics.uci.edu/dataset/519/heart+failure+clinical+records](http://archive.ics.uci.edu/dataset/519/heart+failure+clinical+records)

```{r}
#| label: read-data-example
#| echo: false
#| eval: false
#| message: false
heart_failure <- readr::read_csv("data/heart_failure.csv") 
```

* Exercises data: 

```{r}
#| label: read-data-exercises
#| echo: false
#| eval: false
#| message: false
heart_failure <- readr::read_csv("data/heart_failure.csv") 
```

## What is machine learning?

## Types of machine learning

Aim:

* Classification
* Prediction


Process:

* Supervised
* Unsupervised

. . . 

* Semi-supervised

## What is {tidymodels}?

::: columns
::: {.column}

* A collection of R packages for statistical modelling and machine learning.

* Follows the {tidyverse} principles.

* `install.packages("tidymodels")`

:::

::: {.column}

![](images/tidymodels.png){fig-align="center" fig-alt="tidymodels R package hex sticker logo" width=50%}

:::
:::

## Loading {tidymodels}

```{r}
#| label: read-data
#| echo: false
#| eval: false
#| message: false
library(tidyverse)
library(tidymodels)
tidymodels_prefer()
```


# Training and testing

## Training and testing


## Training and testing in {tidymodels}

```{r}
#| label: split-data
#| echo: false
#| eval: false
#| message: false
set.seed(20231018)
hf_split <- initial_split(heart_failure)
hf_train <- training(hf_split)
hf_test <- testing(hf_split)
```

## Exercise 1

add count down timer

* Load relevant packages

* Read in the ... data from GitHub

* Perform the initial split


# Supervised learning

## Lasso regression

Let's go back a little bit... 

## Linear regression

linear model are ...

in R

## Logistic regression in R

```{r}
#| label: glm
#| echo: true
#| eval: false
#| message: false
mod1 <- glm(death~., family = "binomial", data = hf_train)
summary(mod1)
```

## Lasso logistic regression

## workflows in tm

## Hyperparameter tuning

## Model evaluation


## Exercise 2

Fit a Lasso logistic regression model to 

## Random forests


## SVM

# Unsupervised learning

## k means

## hierarchical?

## other things we didn't do

## Additional resources

* GitHub: [github.com/nrennie/r-pharma-2023-tidymodels](https://github.com/nrennie/r-pharma-2023-tidymodels)

* Slides: [nrennie.github.io/r-pharma-2023-tidymodels](https://nrennie.github.io/r-pharma-2023-tidymodels)

---

* [Tidy Modeling with R](https://www.tmwr.org/)

* [Blog by Julia Silge](https://juliasilge.com/blog/)



